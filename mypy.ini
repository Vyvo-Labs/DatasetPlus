[mypy]
python_version = 3.8
warn_return_any = False
warn_unused_configs = True
disallow_untyped_defs = False
disallow_incomplete_defs = False

# Disable checking of untyped functions (for wavlm.py issues)
check_untyped_defs = False

# Disable redefinition check (for wavlm.py attn_weights issue)
disallow_redefinition = False

# More permissive type checking
implicit_reexport = True
allow_redefinition = True
allow_incomplete_defs = True

# Allow subclassing of untyped classes
disallow_subclassing_any = False

# Ignore all specific errors in certain files
[mypy-datasetplus.tools.audiobox_aesthetics.model.wavlm]
disallow_redefinition = False
no_implicit_reexport = False

[mypy-datasetplus.tools.audiobox_aesthetics.model.aes]
ignore_errors = True

[mypy-datasetplus.tools.audiobox_aesthetics.infer]
ignore_errors = True

[mypy-datasetplus.tools.audiobox_aesthetics.utils]
ignore_errors = True

[mypy-datasetplus.tools.audiobox_aesthetics.model.utils]
ignore_errors = True

# Ignore missing imports for third-party libraries
[mypy.plugins.numpy.*]
follow_imports = skip
follow_imports_for_stubs = True

[mypy-numpy.*]
ignore_missing_imports = True

[mypy-torch.*]
ignore_missing_imports = True

[mypy-torch]
ignore_missing_imports = True

[mypy-torchaudio.*]
ignore_missing_imports = True

[mypy-huggingface_hub.*]
ignore_missing_imports = True

[mypy-submitit.*]
ignore_missing_imports = True

[mypy-tqdm.*]
ignore_missing_imports = True

[mypy-safetensors.*]
ignore_missing_imports = True

[mypy-rich.*]
ignore_missing_imports = True

[mypy-torch.nn]
ignore_missing_imports = True

[mypy-torch.nn.functional]
ignore_missing_imports = True
